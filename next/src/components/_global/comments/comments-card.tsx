import Markdown from '@/components/ui/markdown';
import { CardProps } from './comments.constants';
import styles from './comments.module.scss';

export default function Card({ text, name, rating, long }: CardProps) {
  return (
    <div className={`${styles.card} ${styles[long]}`}>
      <div className={styles.flex}>
        <p>{name}</p>
        <div className={styles.stars}>
          {[...Array(rating)].map((_, index) => (
            <Star key={index} />
          ))}
        </div>
      </div>
      <Markdown.p children={text} />
    </div>
  );
}

const Star = () => (
  <svg
    width='28'
    height='29'
    viewBox='0 0 28 29'
    fill='none'
    xmlns='http://www.w3.org/2000/svg'
  >
    <path
      fillRule='evenodd'
      clipRule='evenodd'
      d='M13.1156 3.28679C12.6234 3.95089 12.0679 4.97553 11.261 6.47134L10.8513 7.23066C10.8266 7.27642 10.8023 7.32176 10.7781 7.36665C10.4022 8.06571 10.0849 8.65573 9.57366 9.05677C9.0569 9.46214 8.42693 9.60843 7.6948 9.77845C7.64774 9.78938 7.60027 9.8004 7.55238 9.8116L6.75694 9.99757C5.18779 10.3644 4.1203 10.6169 3.38914 10.9146C2.67564 11.2052 2.52503 11.4432 2.46762 11.634C2.40703 11.8353 2.40523 12.1433 2.83178 12.8434C3.26472 13.5541 3.99509 14.4405 5.06325 15.7312L5.60553 16.3865C5.63704 16.4245 5.66827 16.4622 5.69919 16.4995C6.20295 17.1067 6.623 17.613 6.81567 18.2532C7.00718 18.8896 6.94371 19.5583 6.86675 20.3691C6.86203 20.4188 6.85726 20.4691 6.85249 20.5199L6.7705 21.3942C6.60914 23.1149 6.50034 24.2997 6.53713 25.1532C6.57385 26.0051 6.74798 26.2406 6.88642 26.3492C7.00955 26.4458 7.23717 26.5527 7.97871 26.3331C8.73229 26.11 9.73385 25.6365 11.2031 24.9375L11.9479 24.5831C11.9938 24.5613 12.0392 24.5396 12.0842 24.5181C12.7652 24.1928 13.356 23.9105 14.0006 23.9105C14.6452 23.9105 15.236 24.1928 15.917 24.5181C15.9621 24.5396 16.0075 24.5613 16.0534 24.5831L16.7981 24.9375C18.2674 25.6365 19.269 26.11 20.0226 26.3331C20.7641 26.5527 20.9917 26.4458 21.1148 26.3492C21.2533 26.2406 21.4274 26.0051 21.4641 25.1532C21.5009 24.2997 21.3921 23.1149 21.2308 21.3942L21.1488 20.5199C21.144 20.4691 21.1392 20.4189 21.1345 20.3691C21.0576 19.5583 20.9941 18.8896 21.1856 18.2532C21.3783 17.613 21.7983 17.1067 22.3021 16.4994C22.333 16.4622 22.3642 16.4245 22.3957 16.3865L22.938 15.7312C24.0062 14.4405 24.7365 13.5541 25.1695 12.8434C25.596 12.1433 25.5942 11.8353 25.5336 11.634C25.4762 11.4432 25.3256 11.2052 24.6121 10.9146C23.881 10.6169 22.8135 10.3644 21.2443 9.99757L20.4489 9.8116C20.401 9.8004 20.3535 9.78937 20.3065 9.77845C19.5743 9.60843 18.9444 9.46214 18.4276 9.05677C17.9163 8.65573 17.5991 8.06571 17.2231 7.36665C17.199 7.32176 17.1746 7.27642 17.1499 7.23065L16.7403 6.47134C15.9334 4.97553 15.3778 3.95089 14.8857 3.28679C14.394 2.62331 14.1428 2.56592 14.0006 2.56592C13.8584 2.56592 13.6073 2.62331 13.1156 3.28679ZM11.6269 2.10879C12.2228 1.30477 12.9593 0.628418 14.0006 0.628418C15.042 0.628418 15.7785 1.30477 16.3743 2.10879C16.9598 2.89882 17.5806 4.04974 18.3394 5.45636L18.7877 6.28728C19.2783 7.19685 19.4039 7.39006 19.5613 7.51356C19.7129 7.63245 19.9084 7.69875 20.8627 7.92186L21.7377 8.12644C23.2072 8.46998 24.4179 8.75299 25.2996 9.11204C26.2148 9.48474 27.0157 10.0341 27.3241 11.0587C27.6292 12.0727 27.2863 13.0056 26.7562 13.8756C26.2412 14.721 25.4187 15.7149 24.4139 16.929L23.8207 17.6457C23.1745 18.4266 23.0395 18.6177 22.976 18.8285C22.9113 19.0435 22.9174 19.292 23.015 20.3331L23.1044 21.2865C23.2566 22.9088 23.3807 24.2318 23.3373 25.2394C23.2931 26.265 23.0676 27.2499 22.2485 27.8924C21.4142 28.5469 20.4433 28.4732 19.5061 28.1957C18.5973 27.9266 17.4644 27.3875 16.0887 26.733L15.2692 26.343C14.3725 25.9164 14.1805 25.848 14.0006 25.848C13.8207 25.848 13.6288 25.9164 12.7321 26.343L11.9125 26.733C10.5368 27.3875 9.40392 27.9266 8.49517 28.1957C7.55795 28.4732 6.58711 28.5469 5.75271 27.8924C4.93361 27.2499 4.7082 26.265 4.66399 25.2394C4.62055 24.2318 4.74465 22.9088 4.89682 21.2865L4.98623 20.3331C5.08386 19.292 5.08994 19.0435 5.02524 18.8285C4.96178 18.6177 4.82678 18.4266 4.18053 17.6457L3.58742 16.929C2.58261 15.7149 1.76002 14.721 1.24502 13.8756C0.714978 13.0056 0.372033 12.0727 0.677192 11.0587C0.98553 10.0341 1.78644 9.48474 2.70168 9.11204C3.58338 8.75299 4.79404 8.46998 6.26358 8.12644L6.34316 8.10784L7.1386 7.92186C8.09289 7.69875 8.2884 7.63245 8.43995 7.51356C8.5974 7.39006 8.72293 7.19684 9.2136 6.28728L9.66185 5.45635C10.4206 4.04973 11.0415 2.89882 11.6269 2.10879Z'
      fill='#025E98'
    />
  </svg>
);
